---
title: "基于深度学习的农机轨迹分割和作业面积计算方法"
collection: publications
permalink: /publication/machinery
excerpt: '针对海量农机轨迹精准分割和作业面积精准计算要求，研究基于滑动时间窗的农机作业行为特征构建方法，构建深度学习模型，实现道路轨迹和农田轨迹精准分割；研究栅格图像缓冲区算法，实现农机有效作业面积准确计算。'
---

# 基于深度学习的农机田路轨迹分割与面积计算方法

针对海量农机轨迹精准分割和作业面积精准计算要求，研究基于滑动时间窗的农机作业行为特征构建方法，构建深度学习模型，实现道路轨迹和农田轨迹精准分割；研究栅格图像缓冲区算法，实现农机有效作业面积准确计算。

## 学习相关理论知识

### (1) 农机大数据系统

农机大数据系统是为实现农机自动导航、远程运维和精准作业，一般在农机上安装农机自动导航系统或物联网终端，由此形成具有时空特征的农机作业大数据的系统。在我国，在国家精准农业应用项目支持下，农业农村部农业机械化总站联合中国农业大学等单位，针对全国范围农机作业动态监测和量化统计的应用需求，开展农机北斗终端前装应用，制订数据传输规范，建设基于北斗的农机作业大数据系统，开展“北斗+农机作业监测”，向农业农村部门、农机制造企业、农机合作社和农机手提供作业动态监测和数据分析服务。基于北斗的农机作业大数据系统由农业机械及北斗终端、农机制造企业物联网平台和农机作业大数据管理服务平台3部分组成；子系统由北斗终端、农机制造企业物联网平台、大数据管理服务平台组成。

![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps1.jpg)

### (2) GNSS轨迹

通过使用GNSS（全球卫星导航系统）统计机器的轨迹并将其分割为一系列的段，一段是指执行相同操作的轨迹的子轨迹（例如，在道路上行驶，在田地里工作和在呷角转弯）。此外，轨迹分割通常基于一种操作方案(例如，KTBL时间分类方案)。例如，为了支持现场效率评估，先后进行了两种类型的分割(Kortenbruck 等人)将轨迹拆分为一系列现场道路段的现场道路分割，以及将现场段拆分为一系列工作转弯段的工作转弯分割。

## 农机轨迹分割算法

### (1) DBSCAN算法

DBSCAN是目前最常用的基于密度的聚类算法之一，DBSCAN 的关键思想是一个集群主要由密度高的核心点组成。将核心点规定为点p，则以其为中心的圆形领域为其Eps领域，对于DBSCAN，必须指定两个输入参数：领域半径Eps和邻域MinPts中的最小点数。关于DBSCAN，有两个定义。

**定义1：**点p的Eps邻域用NEps(p)表示，定义为![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps2.jpg),其中T是给定轨迹上的点的集合，dist(p,q)表示点p与q之间的欧氏距离。

**定义2：**如果Eps中有多少个点p的邻域大于Minspts，则为核心点。

DBSCAN 通过顺序提取聚类来完成聚类过程。从任意点 p开始，检查其eps邻域。如果p是一个核心点，则用Np(p)中的点创建一个新的聚类C。然后，对于C中每个尚未检查eps邻域的点9如果q是核心点，则将未包含在c中的NEps(g)中的点加入到聚类中。重复对聚类C进行扩展，直到无法向聚类中添加新的点为止。当没有新的集群被创建时，聚类过程终止。聚类后，将聚类(即场聚类)中的点预测为“场”，将噪声点预测为“路”。

### (2) 两类错误以及修正方式

Field2Road-Cluster：在基于DBSCAN的集群后，如果字段集群中的点为“场”但实际上是“路”，则该集群为假集群。

Road2Field-Segment：由于GNSS信号丢失的问题，场中的点可能是稀疏的，并且通过基于DBSCAB的聚类预测为“路”。

若满足下列两个条件，则将路段中的点从“路”更改为“场”：

**条件一（速度）：**若路段在同一场中，则其速度应彼此接近，则对于每个路段segk，其速度speedDiff(segk(k-1))与速度speedDiff(segk(k+1))都需要小于阈值

​															![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps3.jpg)![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps4.jpg)

其中 speed(pi)是点 pi的速度，seg i是段 seg j (= -k,k +)中点的个数speedDiff(seg ij)是两个段 segi和 segj(i,j= k-1,k,k +1)之间的速度差。

**条件二（方向）：**若每个段在同一场。则它们的方向一般是平行的，因此段seg k与其他段之间的共享并行区域（见定义3）的数量应该大于阈值。

**定义3：**对于段seg i的前n个区域中的一个区域，如果该区域本身在另一个段seg j的前n个区域中，则它是seg i和seg j之间的共享并行区。

![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps5.jpg)

## 农机数量估计方法

### (1) 数据预处理

利用农机作业面积计算方法，我们可以准确计算出每台北斗农机的作业面积。在进行数据分析时，设置合理的阈值来剔除异常数据是一项重要的预处理步骤，这有助于提高数据分析的准确性和可靠性。

![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps6.jpg)

 我们需要根据数据的分布和农机作业的实际情况来设定一个合理的阈值。作业面积过小或过大的农机可能代表数据录入错误、设备故障或其他异常情况，通过设定阈值，我们可以将这些异常数据从数据集中删除。在设定了阈值之后，我们可以对数据进行筛选，删除作业面积低于或高于阈值的数据。这一步骤有助于消除极端值对数据分析结果的影响。如图所示：



![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps7.jpg)

​																								图 2 设定阈值前作业面积

 

![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps8.jpg)

​																								图 3 设定阈值后作业面积

在深入分析和挖掘北斗农机在小麦作业领域的应用情况时，我们采取了将自身数据与官方发布的统计信息进行综合对比的策略。具体而言，我们利用了国家统计局公布的关于中国各省份小麦种植面积的官方数据，通过这些权威数据，我们得以更准确地评估和分析北斗农机在小麦作业面积上的分布和使用情况。

此过程涉及到数据的匹配与融合，我们将自己收集的关于北斗农机作业面积的数据与国家统计局发布的各省小麦面积数据进行了整合。通过这一步骤，我们能够得出一个全面的数据视图，展现了中国各省份北斗农机在小麦作业上的面积与国家统计局公布的小麦面积之间的对应关系，相关数据如下图所示：

![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps9.jpg)

 																				表 1 各省份北斗农机作业面积和小麦面积

这种结合官方数据进行综合分析的方法，增强了我们研究的准确性和可信度，使我们的结论更加稳健和可靠。由此，我们可以得出以下数据：

***\*各省份作业总面积：21577700亩\****

***\*北斗农机作业总面积 8948081.169亩\****

***\*北斗农机数量：63603台\****

***\*作业平均面积: 140.6908880206286亩\****

***\*作业标准差: 0.40596966757640013亩\****

### (2) 统计模型

在成功获得相关数据之后，为了更准确地估计农机的数量，我们决定运用统计学中的两种方法大数定理和自助法（Bootstrap）来进行分析。

大数定理是概率论中的一个基本定理，它表明了当样本数量足够大的时候，样本均值会趋近于总体均值。在使用大数定理进行区间估计时，我们通常假设数据是独立同分布的，并且样本数量足够大（通常n>30，本数据集n远大于30），这样样本均值的分布会接近正态分布，从而可以利用正态分布的性质进行区间估计。在确保我们的数据满足独立同分布的条件，并且样本量充足的基础上，我们运用大数定理计算得出，农机数量的95%置信区间为：

***\*[152507.05, 154241.89]（单位：台）\****

自助法是一种用于统计推断的重抽样技术，它通过反复从原始样本中有放回地抽取相同数量的样本，来生成多个新的“自助样本”，再对这些“自助样本”计算所需的统计量，从而得到统计量的分布。自助法不要求数据服从任何特定的分布，也不需要大样本，因此在样本量较小或者数据分布未知的情况下仍然可以使用。利用[自助法（Bootstrap）](https://cn.bing.com/ck/a?!&&p=ec5087885b657114JmltdHM9MTY5ODEwNTYwMCZpZ3VpZD0xMWQzYzJmNS00OGY2LTYzODAtMTdmNC1kMjU2NDk5MzYyODMmaW5zaWQ9NTIwNw&ptn=7&hsh=3&fclid=11d3c2f5-48f6-6380-17f4-d25649936283&psq=自助法&u=a1aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8xNjM4NDk2NjM&ntb=1)得到置信度为 95% 的农机数量估计区间为：

***\*[152586.67, 154190.84]（单位：台）\****

### (3) 结果可视化

在我们通过计算得到了北斗农机在小麦作业面积方面的年度数据后，接下来的步骤是利用这些数据来估计出中国北斗农机的数量，并且基于这些估计的年度数量，我们将进一步绘制出95%的农机数量估计区间的可视化图像，绘制 95% 的农机数量估计区间可视化图像如下所示：

![img](file:///C:\Users\10203\AppData\Local\Temp\ksohtml2576\wps10.jpg)

 																						图 4 近年北斗农机数量估计

这个图像将清晰地展示出农机数量随时间变化的趋势，以及置信区间的大小，从而使我们能够直观地了解农机数量的变化情况和估计的不确定性。通过这个过程，我们不仅能够准确估计出中国北斗农机的数量，还能够直观地展示其变化趋势和估计的可靠性，为相关决策提供有力的支持。